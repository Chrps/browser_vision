"use strict";(self["webpackChunkbrowser_vision"]=self["webpackChunkbrowser_vision"]||[]).push([[633],{5633:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});var l=t(6252);t(6229),t(7330),t(2062);const n=e=>((0,l.dD)("data-v-4667bf1a"),e=e(),(0,l.Cn)(),e),o=n((()=>(0,l._)("label",{for:"imageInput",class:"file-input-label",style:{display:"none"}},null,-1))),r={class:"image-container"};var s=(0,l.aZ)({name:"ImageUpload2",emits:["image-uploaded"],setup(e,{emit:a}){const t=["image/bmp","image/jpeg","image/png","image/webp","image/x-portable-bitmap","image/x-portable-graymap","image/x-portable-pixmap","image/x-portable-anymap","image/x-portable-raster","image/tiff","image/tiff-fx","image/vnd.radiance","image/vnd.radiance.rgb"],n=e=>{const a=e.target;if(!a.files)return;const t=URL.createObjectURL(a.files[0]),l=document.getElementById("srcImage");null!==l&&l.setAttribute("src",t)},s=e=>{a("image-uploaded",e.target)},i=()=>{const e=document.getElementById("imageInput");e.click()},c=e=>{e.preventDefault()},u=e=>{e.preventDefault()},g=e=>{},m=e=>{e.preventDefault();const a=e.dataTransfer?.items;if(a)for(const l of a){if("file"===l.kind&&t.includes(l.type)){const e=l.getAsFile();if(!e)return void console.error("File is not supported");const a=URL.createObjectURL(e),t=document.getElementById("srcImage");t?.setAttribute("src",a);break}console.error("File is not supported")}};return(e,a)=>((0,l.wg)(),(0,l.iD)("div",null,[o,(0,l._)("input",{type:"file",accept:"image/*",id:"imageInput",onChange:n,style:{position:"absolute",width:"0",height:"0",opacity:"0",cursor:"pointer",top:"0",left:"0"}},null,32),(0,l._)("div",{class:"drop-zone",onDragenter:c,onDragover:u,onDragleave:g,onDrop:m,onClick:i}," Drag and drop an image here or click to upload. ",32),(0,l._)("div",r,[(0,l._)("img",{onLoad:s,id:"srcImage",style:{display:"none"}},null,32)])]))}}),i=t(3744);const c=(0,i.Z)(s,[["__scopeId","data-v-4667bf1a"]]);var u=c,g=t(7093),m=t.n(g);const d=e=>{if(null===e)return console.error("Failed to convert HTMLImageElement to Mat."),null;const a=m().imread(e);return a.empty()?(console.error("Failed to convert HTMLImageElement to Mat."),null):a},p=e=>{if(null===e)return console.error("Failed to convert Mat to HTMLImageElement."),null;if(e.empty())return console.error("Failed to convert Mat to HTMLImageElement."),null;const a=document.createElement("canvas"),t=a.getContext("2d");if(null===t)return console.error("Failed to get 2D context."),null;a.width=e.cols,a.height=e.rows,m().imshow(a,e);const l=new Image;return l.src=a.toDataURL("image/png"),l};t(7658);const v=e=>{if(null===e)return console.error("Failed to split channels."),null;if(e.empty())return console.error("Failed to split channels."),null;const a=new(m().MatVector);m().split(e,a);const t=[];for(let l=0;l<a.size();l++)t.push(a.get(l));return t},f=e=>{if(null===e)return console.error("Failed to convert to gray."),null;if(e.empty())return console.error("Failed to convert to gray."),null;const a=new(m().Mat);return m().cvtColor(e,a,m().COLOR_RGBA2GRAY),a};var b=t(2262);const _=e=>((0,l.dD)("data-v-1269bee8"),e=e(),(0,l.Cn)(),e),I=_((()=>(0,l._)("h1",null,"Image Conversion",-1))),w={key:0,class:"image-container"},y={class:"row"},h={class:"image-box"},D=_((()=>(0,l._)("span",{class:"label"},"Input",-1))),C={class:"image-wrapper"},k=["src"],x={class:"image-box"},F=_((()=>(0,l._)("span",{class:"label"},"Output",-1))),L={class:"image-wrapper"},M=["src"],E={class:"row"},H={class:"image-box"},R=_((()=>(0,l._)("span",{class:"label"},"Channels",-1))),U={class:"image-wrapper"},O=["src"];var A=(0,l.aZ)({name:"ImageConvertPage",setup(e){const a=(0,b.iH)(null),t=(0,b.iH)(null),n=(0,b.iH)([]),o=e=>{console.log("Image uploaded"),a.value=e;let l=d(a.value);l=f(l);const o=p(l);console.log(o),console.log(l),t.value=o;const r=v(l);n.value=r?r.map((e=>p(e))):[]};return(e,r)=>((0,l.wg)(),(0,l.iD)("div",null,[I,(0,l.Wm)(u,{onImageUploaded:o}),a.value&&t.value?((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("div",y,[(0,l._)("div",h,[D,(0,l._)("div",C,[(0,l._)("img",{src:a.value.src,alt:"Uploaded Image",class:"scaled-image"},null,8,k)])]),(0,l._)("div",x,[F,(0,l._)("div",L,[(0,l._)("img",{src:t.value.src,alt:"Output Image",class:"scaled-image"},null,8,M)])])]),(0,l._)("div",E,[(0,l._)("div",H,[R,(0,l._)("div",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.value,((e,a)=>((0,l.wg)(),(0,l.iD)("img",{key:a,src:e?.src,class:"scaled-image",alt:"Channel Image"},null,8,O)))),128))])])])])):(0,l.kq)("",!0)]))}});const T=(0,i.Z)(A,[["__scopeId","data-v-1269bee8"]]);var B=T}}]);
//# sourceMappingURL=633.26c46016.js.map